<!doctype html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}">

<section layout:fragment="content" th:object="${cafe}">
    <div class="jumbotron" id="jumbo"
         style="background-image:url('/img/cafe1.jpg');">
        <h2 style="margin-bottom: 50px;" th:text="*{name}"></h2>
        <p class="lead"></p>
        <p></p>

    </div>
    <div class="container">
        <div style="margin-bottom: 50px">
            <ul class="list-group">
                <li class="list-group-item">
                    <span style="width: 100px; display: inline-block; margin-right: 20px"><b>Address</b></span>
                    <span th:text="*{address}"></span>
                </li>
            </ul>
        </div>
        <div style="margin-bottom: 50px">
            <h4>Menu</h4>
            <ul class="list-group">
                <li class="list-group-item" th:each="cafeMenu : *{cafeMenuList}">
                    <b><span style="width: 100px; display: inline-block; margin-right: 20px"
                             th:text="${cafeMenu.name}"></span></b>
                    <span th:text="${cafeMenu.price}"></span>
                </li>
            </ul>
        </div>
        <div style="margin-bottom: 50px">
            <h4>Score</h4>
            <ul class="list-group" th:with="score = *{scoreSet}">
                <li class="list-group-item">
                    <span style="width: 100px; display: inline-block; margin-right: 20px"><b>Mood</b></span>
                    <span th:text="${score.mood}"></span>
                </li>
                <li class="list-group-item">
                    <span style="width: 100px; display: inline-block; margin-right: 20px"><b>Light</b></span>
                    <span th:text="${score.light}"></span>
                </li>
                <li class="list-group-item">
                    <span style="width: 100px; display: inline-block; margin-right: 20px"><b>Price</b></span>
                    <span th:text="${score.price}"></span>
                </li>
                <li class="list-group-item">
                    <span style="width: 100px; display: inline-block; margin-right: 20px"><b>Taste</b></span>
                    <span th:text="${score.taste}"></span>
                </li>
            </ul>
        </div>
        <div class="text-right">
            <!--            TODO: 사용자의 상태에 따라 수정하기/평가하기로 나눌 것-->
            <a class="btn btn-outline-success" th:if="*{isWrite}" th:href="@{/cafes/{cafeId}/update(cafeId=${cafe.id})}">수정하기</a>
            <a class="btn btn-outline-primary" th:if="!*{isWrite}" th:href="@{/cafes/{cafeId}/write(cafeId=${cafe.id})}">평가하기</a>
        </div>

        <iframe th:attr="src=@{/cafes/{cafeId}/comment_list(cafeId=${cafe.id})}"
                width="100%" height="500px" frameborder="0"></iframe>
    </div>
</section>

</html>